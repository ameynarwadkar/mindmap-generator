<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mermaid Mindmap</title>
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Mermaid JS -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11.4.0/dist/mermaid.min.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #mermaid {
      width: 100%;
      height: calc(100vh - 64px); /* Adjust height considering header */
      overflow: auto;
    }
  </style>
</head>
<body class="bg-gray-100">
  <div class="flex items-center justify-between p-4 bg-white shadow">
    <h1 class="text-xl font-bold">Mermaid Mindmap</h1>
    <a href="https://mermaid.live/edit#pako:eNqdWHtv2zYQ_ypXp4OkxJIfadJGjjP0ta1AihVFMbRYBpQWKZsLRWkklcQ1_N13pKQ4cSQnqP4IZOre97sHs-olOWW9GHqnz2iemGXBYGEycXYh4c5z2nrGCN0-y5ghkCyI0sxML3qlScNXFz0YbNMZbgQ7-0jUZUYKuCjHw9EhFFwIDQdg8vlcMJiVxuTydFDRXsgtEdos3TFsPdbU_iyny1VG1JzLeDhZMD5fmHg0HP6yfsjgaCnXhSDLOBXsZvJvqQ1Pl2GSS8OkiRP8w9SECD6XITcs083RQ2lOIkku5yovJY330uN0lqaTFEWFKcm4WMYfLGsfNJE61EzxdL3tnH0KxaKsCtDqmlOziE-Orq4bX05eXC0mjYPrndxn-mpeS7AR2IrGQ9bBPgguL8EFGPYHDylQIDTSQ0u7aqExKr9k8d7saHaC_ncRhJVhh9FRNwlqYAkpYhfRFrIuL-7hCHyLskMCAwe3w5Og1bUoy8KKb5WUSucqLnJu87XeRRsmXCXIkiKCMeXo75b795wdRS93SzPsxqwcYjT_weLRi-KmAtB1lbpXw2EH8u4-VkpIZLJAJzJOqWATmmdcEhQ0I5rZsDYfHpdWufZy9ipBd-qYhOwKy0DHMpes1aO6vq0lt3ixP-COdzAaN-5dEcXRuhh0RoQIMed6IpixmnRBEi7nMUQ2GFvKTgdtzeB0UHeorWNb79ukWC6QCKI1Nq3a0IseEoVheCHrg9jycMkNJ-L9TUEkPUf_RQzjjSBLUhBK0dSvMbx4ZX_Xpv_FlOEJQfqj4Z3jP3LFf6Dz9gOWZK1yDz5ySa0Vcm8PPkjKbhC2w-HsJbzJuD3cg3csddYgtutPb4lISkHskSPZ2xCf84wb90U31B-5di7zFM1yX2qmzwgNxA2rOFFEw_E7VmDRUH1iyjZBLth22DGYLe06UbwwoFWCIV4YU-h4MEiojP7VFPVdqUgyM5BFNmiAQkqTi5xQpjAVmGIn4KxVbMsYuMb45de3EJxCS4-yGs6dhnjVXgEZkSVmxqiS9dsp8sKFLl4JMmPiCw7Q2MP-6K276OVnROXSD1ZQ2xZtzIgUw1Sr10L4wQTWra3uwdGkrf09PMHxXmaYsAjh-d7W7TnXON2Y8r13f358W406Zwb1-uAHMD1rixnORG0gyzCi90MccfxgYaP_Hv7T0lB4Cv6zLAtAMVMqOelo2kkuBNY9A6wttTQLLBGgjBVMgVkQCcLWXDjCOGJLUmiKhUhrK8-y6JqIS186T5x-GVFWmAWcwSgAGaG9hqEjXqPUw6AHk1ZRiumlTD7l2lWc9oMuBxZM1MYaoIpca3zFISRK5hYcu9_g7_uzqc38tJSJK27KklyhoQiZDpBmESIuwo7OEmOx49lZYpX1N0PFC9CFLL9iHZZ3CaqLUeKaiCIYSRZ-Y5lPuyyqQDLHtynQw1qgj8nUwWQXB7bOr8gyetG3r9_w9XhyJ7iDKoJ1g90laDazqueRNdsPojkzb97kN7aoakF29ECegqta8Cm_OqC5Cboig3m9k0IfoY7dHIiGfQfCfUAPbXGBzt3ypHF3IUuYMcQvbd807DOPKkm-pzBAXt-LnbgwWXBBvaB7KkeuczPqe3Wmvb7tUbs4iDFY6jdY27NZdAOhC_bjDMuKYVkxfHucwe04yGS53Dsg5K2u_fHjzNVuWqms3ivmb09hVta5E3yC5mDZHDzKm7oYgreXHNJjlniPc1QrneMZDQ9fHs-ezBM2IRpF46PuarSY295hcymWtpPZFmKxDQvEoEMLTo5unLneS6MN4W0P3lGLGJHPLgPTu4jBfNwmtsnrTjnKFvSo08u6Xo109UqKAieg782fEExXAlgzd1rcozxG4aUrzVXm9b-7d2Eb6_PVxtkDNPgAjtd9eL5yuD_YYHEwXgffdynBnohm8eTS6_usbxMUTM9W3QzYcHGm4QL-1jL5juF-w5uVXJiQyxoIO0Wl3PgrWiq3zMXjo-E62LHY4w39C89YXhq_mTD98fGw0Y-6FbPaaXUvH1QQ1N0CGc7TvPik8oLMnQn-LvXrbuAjGG6BUF2sfgYN4ZNZlddXT7PG3l1-ypZHGS2BT6uNZDqdbjYS-BW86ubqQVy_nnhdkW3NeNf9uL7LYBHjba61dyj2X8m0eS155jL6myIZ8_1uUDcorEd0PO7G4GataTP5SYddl4JB2xVv4P6H1etDL2MqI5z2Ylj1sJFm7v9flKWkFKa3Xv8PO70YFg" target="_blank" id="editButton" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Edit in Mermaid Live Editor</a>
  </div>
  <div id="mermaid" class="p-4">
    <pre class="mermaid">
<!doctype html>
            <html>
            <head>
            <meta charset="utf-8" />
            <title>Markmap – pills + toggle button</title>

            <style>
                html,body{margin:0;height:100%}
                body{display:flex;justify-content:center;align-items:center;
                    background:#f6fbff;font-family:Inter, sans-serif}

                pre.markmap{width:95vw;height:94vh;margin:0}
                pre.markmap>svg{width:100%;height:100%}

                /* link style */
                svg .markmap-link{
                stroke:#b5b9ff;
                stroke-width:3.5;
                stroke-linecap:round;
                }

                /* toggle button (› / ‹) */
                .mm-toggle{cursor:pointer}
                .mm-toggle-circle{fill:#fff;stroke:#b5b9ff;stroke-width:1.7}
                .mm-toggle-text{font-size:14px;font-weight:800;
                                text-anchor:middle;dominant-baseline:middle;
                                fill:#7b8cff;pointer-events:none}
                .markmap text.markmap-text {font-size: 12px;font-variant: small-caps;letter-spacing: .4px;}
            </style>
            </head>

            <body>
            <pre class="markmap">
---
markmap:
  initialExpandLevel: 2          
  paddingX: 48
  spacingVertical: 50
  spacingHorizontal: 100
---
# Mindmap
## Index · Bmi
### Definition · Calculation
#### Bmi
### Limitations · Misclassifications
#### Reliance
### Bmi · Groups
#### Percentile
            </pre>

            <script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>
            <script>
                window.markmap = {
                autoLoader:{
                    manual:true,
                    options:{labelType:'svg'},
                    onReady(){ markmap.autoLoader.renderAll(); }
                }
                };

                
                document.addEventListener('DOMContentLoaded', () => {
                const mm = window.markmap.instances[0];
                if (!mm) return;

                /* collapse everything deeper than level-1 on first load */
                mm.walk(n => { if (n.depth > 1) n.state = 'collapse'; });
                mm.resyncPositions();

                /* helper that draws the blue pill + the toggle button */
                function decorate(){
                    mm.svg.selectAll('.mm-pill,.mm-toggle').remove();

                    mm.svg.selectAll('.markmap-node').each(function(d){
                    const g   = d3.select(this);
                    const padX = 14, padY = 6;          // pill padding
                    const bb  = g.node().getBBox();     // size of label (div+dot)

                    /*  blue pill (insert as *first* element so links stay behind) */
                    g.insert('rect',':first-child')
                        .classed('mm-pill',true)
                        .attr('x', bb.x - padX)
                        .attr('y', bb.y - padY)
                        .attr('width',  bb.width  + padX*2)
                        .attr('height', bb.height + padY*2)
                        .attr('rx', 9999).attr('ry', 9999)
                        .attr('fill', '#c3d6ec')
                        .attr('stroke', '#10376b')
                        .attr('stroke-width', 1.25);

                    /*   toggle button (only if the node has children) */
                    if (!d.children) return;
                    const pillRight = bb.x - padX + bb.width + padX*2;
                    const r = 11;

                    const btn = g.append('g')
                        .attr('class','mm-toggle')
                        .attr('transform',`translate(${pillRight + r + 6}, ${bb.y + bb.height/2})`)
                        .on('click',(e,node)=>{
                        mm.handleClick(node);          // built-in toggle
                        mm.fit({duration:250});
                        setTimeout(decorate,260);      // rebuild pills/buttons
                        e.stopPropagation();
                        });

                    btn.append('circle')
                        .attr('class','mm-toggle-circle')
                        .attr('r',r);

                    btn.append('text')
                        .attr('class','mm-toggle-text')
                        .text(d.state==='collapse' ? '›' : '‹');
                    });
                }

                /* initial paint */
                requestAnimationFrame(()=>{
                    mm.fit({padding:20});
                    decorate();
                });
                });
            </script>
            </body>
            </html>
    </pre>
  </div>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      securityLevel: 'loose',
      theme: 'default',
      mindmap: {
        useMaxWidth: true
      },
      themeConfig: {
        controlBar: true
      }
    });
  </script>
</body>
</html>